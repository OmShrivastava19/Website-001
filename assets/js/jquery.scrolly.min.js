!function(f){function a(t,e){var n,r,o;if(0==(n=f(t))[l])return s;switch(r=n[i]()[c],e.anchor){case"middle":o=r-(f(window).height()-n.outerHeight())/2;break;default:o=Math.max(r,0)}return"function"==typeof e[i]?o-=e[i]():o-=e[i],o}var l="length",s=null,c="top",i="offset",h="click.scrolly";f(window);f.fn.scrolly=function(t){var e,n,r,o,i=f(this);if(0==this[l])return i;if(1<this[l]){for(e=0;e<this[l];e++)f(this[e]).scrolly(t);return i}if(o=s,"#"!=(r=i.attr("href")).charAt(0)||r[l]<2)return i;(n=jQuery.extend({anchor:c,easing:"swing",offset:0,parent:f("body,html"),pollOnce:!1,speed:1e3},t)).pollOnce&&(o=a(r,n)),i.off(h).on(h,function(t){var e=o!==s?o:a(r,n);e!==s&&(t.preventDefault(),n.parent.stop().animate({scrollTop:e},n.speed,n.easing))})}}(jQuery);